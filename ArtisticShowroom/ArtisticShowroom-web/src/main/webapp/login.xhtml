<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	template="/template2/main.xhtml" xmlns:p="http://primefaces.org/ui">
	<ui:define name="title"></ui:define>
	<ui:define name="pageContent">
		<h:form>



			<p:growl showDetail="true" />

			<p:panel header="Sign in">
				<h:panelGrid columns="4" cellpadding="5">
					<h:outputLabel for="email1" value="Email" />
					<p:inputText id="email1" value="#{identityBean.user.email}">
						<f:validator validatorId="custom.emailValidator" />
					</p:inputText>
					<p:message for="email1" display="tooltip" />
					<h:outputText value="#{identityBean.user.email}" />

					<h:outputLabel value="Password" />
					<h:inputSecret value="#{identityBean.user.passwordHash}" />

				</h:panelGrid>

				<p:commandButton value="Save" ajax="false" icon="ui-icon-check"
					validateClient="true" action="#{identityBean.doLogin()}" />
			</p:panel>


		</h:form>

		<style>
form {
	width: 500px;
	margin: 0 auto;
}
</style>


		<script type="text/javascript">
    /**
     * Faces Validator
     */
    PrimeFaces.validator['custom.emailValidator'] = {
 
        pattern: /\S+@\S+/,
 
        validate: function(element, value) {
            //use element.data() to access validation metadata, in this case there is none.
            if(!this.pattern.test(value)) {
                throw {
                    summary: 'Validation Error',
                    detail: value + ' is not a valid email.'
                }
            }
        }
    };
 
  
</script>

	</ui:define>




</ui:composition>
